---
layout: post
title: '云主机常用基本操作'
date: 2020-06-27 17:37
comments: true
3tags:
  - ubuntu
  - 云主机
---

## 预检

在安装之前，请进行一些快速的配置检查，以确保您的服务器满足最低要求。

花一点时间进行这些检查，将大大减少您在安装过程中遇到问题所浪费的时间。

首先，检查服务器的语言环境为`en_US.UTF-8`。

```
$ cat /etc/default/locale
LANG="en_US.UTF-8"
```

<!--more-->

如果看不到`LANG="en_US.UTF-8"`，请输入以下命令将本地设置为`en_US.UTF-8`。

```
$ sudo apt-get install language-pack-en
$ sudo update-locale LANG=en_US.UTF-8
```

然后注销并再次登录到您的SSH会话–这将为您的会话重新加载区域设置。`cat /etc/default/locale`再次运行以上命令。验证您仅看到单行`LANG="en_US.UTF-8"`。

注意：如果看到其他行`LC_ALL=en_US.UTF-8`，请`LC_ALL`从删除条目`/etc/default/locale`并注销，然后再次登录。

接下来，执行`sudo systemctl show-environment`并确保您`LANG=en_US.UTF-8`在输出中看到。

```
$ sudo systemctl show-environment
LANG=en_US.UTF-8
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
```

如果看不到，请再次`sudo systemctl set-environment LANG=en_US.UTF-8`执行以上操作`sudo systemctl show-environment`并确认您`LANG=en_US.UTF-8`在输出中看到了。

接下来，使用命令检查服务器（至少）有4G内存`free -h`。这是我们其中一台测试服务器的输出。

```
$ free -h
              total        used        free      shared  buff/cache   available
Mem:            31G        5.9G        314M        1.8G         25G         21G
Swap:           31G        360M         31G
```

这里显示的是31G的内存（这是一台具有32 GB内存的服务器）。

如果`Mem:`在`total`列中看到小于4G的值（上面的示例显示31G），则您的服务器没有足够的内存来运行BigBlueButton。您需要将服务器的内存增加到（至少）4G。

接下来，检查服务器是否具有Ubuntu 16.04。

```
$  cat /etc/lsb-release
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=16.04
DISTRIB_CODENAME=xenial
DISTRIB_DESCRIPTION="Ubuntu 16.04.x LTS"
```

接下来，检查您的服务器是否正在运行64位版本的Ubuntu 16.04。

```
$ uname -m
x86_64
```

接下来，检查您的服务器是否支持IPV6。

```
$ ip addr | grep inet6
inet6 ::1/128 scope host
...
```

如果没有看到该行，`inet6 ::1/128 scope host`则在安装BigBlueButton之后，您需要修改FreeSWITCH的配置以[禁用对IPV6的支持](http://docs.bigbluebutton.org/2.2/troubleshooting.html#freeswitch-fails-to-bind-to-port-8021)。

接下来，检查您的服务器是否正在运行Linux 4.x内核。

```
$ uname -r
4.15.0-38-generic
```

接下来，检查您的服务器是否具有（至少）4个CPU内核

```
$ cat /proc/cpuinfo | awk '/^processor/{print $3}' | wc -l
4
```

## 宝塔

[查看详细教程](https://www.bt.cn/bbs/thread-19376-1-1.html)

> 使用 SSH 连接工具，如[堡塔SSH终端](https://download.bt.cn/ssh/BT-Term.exe)连接到您的 Linux 服务器后，[挂载磁盘](https://www.bt.cn/bbs/thread-5166-1-1.html)，根据系统执行相应命令开始安装（大约2分钟完成面板安装）：
>
> Centos安装脚本
>
> ```
> yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh
> ```
>
> Ubuntu/Deepin安装脚本
>
> ```
> wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh && sudo bash install.sh
> ```
>
> Debian安装脚本
>
> ```
> wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh && bash install.sh
> ```
>
> Fedora安装脚本
>
> ```
> wget -O install.sh http://download.bt.cn/install/install_6.0.sh && bash install.sh
> ```

## OneinStack

https://oneinstack.com/auto/
